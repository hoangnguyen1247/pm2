"use strict";

var _ProcessUtils = _interopRequireDefault(require("./ProcessUtils"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

/**
* Copyright 2013 the PM2 project authors. All rights reserved.
* Use of this source code is governed by a license that
* can be found in the LICENSE file.
*/
// Inject custom modules
_ProcessUtils["default"].injectModules();

if (typeof process.env.source_map_support != "undefined" && process.env.source_map_support !== "false") {
  require('source-map-support').install();
} // Rename the process


process.title = process.env.PROCESS_TITLE || 'node ' + process.env.pm_exec_path;
if (process.connected && process.send && process.versions && process.versions.node) process.send({
  'node_version': process.versions.node
}); // Require the real application

if (process.env.pm_exec_path) {
  require('module')._load(process.env.pm_exec_path, null, true);
} else throw new Error('Could not _load() the script'); // Change some values to make node think that the user's application
// was started directly such as `node app.js`


process.mainModule = process.mainModule || {};
process.mainModule.loaded = false;
require.main = process.mainModule;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9Qcm9jZXNzQ29udGFpbmVyRm9ya0xlZ2FjeS50cyJdLCJuYW1lcyI6WyJQcm9jZXNzVXRpbHMiLCJpbmplY3RNb2R1bGVzIiwicHJvY2VzcyIsImVudiIsInNvdXJjZV9tYXBfc3VwcG9ydCIsInJlcXVpcmUiLCJpbnN0YWxsIiwidGl0bGUiLCJQUk9DRVNTX1RJVExFIiwicG1fZXhlY19wYXRoIiwiY29ubmVjdGVkIiwic2VuZCIsInZlcnNpb25zIiwibm9kZSIsIl9sb2FkIiwiRXJyb3IiLCJtYWluTW9kdWxlIiwibG9hZGVkIiwibWFpbiJdLCJtYXBwaW5ncyI6Ijs7QUFNQTs7OztBQU5FOzs7OztBQUtGO0FBRUFBLHlCQUFhQyxhQUFiOztBQUVBLElBQUksT0FBT0MsT0FBTyxDQUFDQyxHQUFSLENBQVlDLGtCQUFuQixJQUEwQyxXQUExQyxJQUNBRixPQUFPLENBQUNDLEdBQVIsQ0FBWUMsa0JBQVosS0FBbUMsT0FEdkMsRUFDZ0Q7QUFDOUNDLEVBQUFBLE9BQU8sQ0FBQyxvQkFBRCxDQUFQLENBQThCQyxPQUE5QjtBQUNELEMsQ0FFRDs7O0FBQ0FKLE9BQU8sQ0FBQ0ssS0FBUixHQUFnQkwsT0FBTyxDQUFDQyxHQUFSLENBQVlLLGFBQVosSUFBNkIsVUFBVU4sT0FBTyxDQUFDQyxHQUFSLENBQVlNLFlBQW5FO0FBRUEsSUFBSVAsT0FBTyxDQUFDUSxTQUFSLElBQ0FSLE9BQU8sQ0FBQ1MsSUFEUixJQUVBVCxPQUFPLENBQUNVLFFBRlIsSUFHQVYsT0FBTyxDQUFDVSxRQUFSLENBQWlCQyxJQUhyQixFQUlFWCxPQUFPLENBQUNTLElBQVIsQ0FBYTtBQUNYLGtCQUFnQlQsT0FBTyxDQUFDVSxRQUFSLENBQWlCQztBQUR0QixDQUFiLEUsQ0FJRjs7QUFDQSxJQUFJWCxPQUFPLENBQUNDLEdBQVIsQ0FBWU0sWUFBaEIsRUFBOEI7QUFDNUJKLEVBQUFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JTLEtBQWxCLENBQXdCWixPQUFPLENBQUNDLEdBQVIsQ0FBWU0sWUFBcEMsRUFBa0QsSUFBbEQsRUFBd0QsSUFBeEQ7QUFDRCxDQUZELE1BSUUsTUFBTSxJQUFJTSxLQUFKLENBQVUsOEJBQVYsQ0FBTixDLENBRUY7QUFDQTs7O0FBQ0FiLE9BQU8sQ0FBQ2MsVUFBUixHQUFxQmQsT0FBTyxDQUFDYyxVQUFSLElBQXNCLEVBQTNDO0FBQ0FkLE9BQU8sQ0FBQ2MsVUFBUixDQUFtQkMsTUFBbkIsR0FBNEIsS0FBNUI7QUFDQVosT0FBTyxDQUFDYSxJQUFSLEdBQWVoQixPQUFPLENBQUNjLFVBQXZCIiwic291cmNlc0NvbnRlbnQiOlsiICAvKipcclxuICogQ29weXJpZ2h0IDIwMTMgdGhlIFBNMiBwcm9qZWN0IGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgbGljZW5zZSB0aGF0XHJcbiAqIGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlLlxyXG4gKi9cclxuLy8gSW5qZWN0IGN1c3RvbSBtb2R1bGVzXHJcbmltcG9ydCBQcm9jZXNzVXRpbHMgZnJvbSAnLi9Qcm9jZXNzVXRpbHMnO1xyXG5Qcm9jZXNzVXRpbHMuaW5qZWN0TW9kdWxlcygpXHJcblxyXG5pZiAodHlwZW9mKHByb2Nlc3MuZW52LnNvdXJjZV9tYXBfc3VwcG9ydCkgIT0gXCJ1bmRlZmluZWRcIiAmJlxyXG4gICAgcHJvY2Vzcy5lbnYuc291cmNlX21hcF9zdXBwb3J0ICE9PSBcImZhbHNlXCIpIHtcclxuICByZXF1aXJlKCdzb3VyY2UtbWFwLXN1cHBvcnQnKS5pbnN0YWxsKCk7XHJcbn1cclxuXHJcbi8vIFJlbmFtZSB0aGUgcHJvY2Vzc1xyXG5wcm9jZXNzLnRpdGxlID0gcHJvY2Vzcy5lbnYuUFJPQ0VTU19USVRMRSB8fCAnbm9kZSAnICsgcHJvY2Vzcy5lbnYucG1fZXhlY19wYXRoO1xyXG5cclxuaWYgKHByb2Nlc3MuY29ubmVjdGVkICYmXHJcbiAgICBwcm9jZXNzLnNlbmQgJiZcclxuICAgIHByb2Nlc3MudmVyc2lvbnMgJiZcclxuICAgIHByb2Nlc3MudmVyc2lvbnMubm9kZSlcclxuICBwcm9jZXNzLnNlbmQoe1xyXG4gICAgJ25vZGVfdmVyc2lvbic6IHByb2Nlc3MudmVyc2lvbnMubm9kZVxyXG4gIH0pO1xyXG5cclxuLy8gUmVxdWlyZSB0aGUgcmVhbCBhcHBsaWNhdGlvblxyXG5pZiAocHJvY2Vzcy5lbnYucG1fZXhlY19wYXRoKSB7XHJcbiAgcmVxdWlyZSgnbW9kdWxlJykuX2xvYWQocHJvY2Vzcy5lbnYucG1fZXhlY19wYXRoLCBudWxsLCB0cnVlKTtcclxufVxyXG5lbHNlXHJcbiAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgX2xvYWQoKSB0aGUgc2NyaXB0Jyk7XHJcblxyXG4vLyBDaGFuZ2Ugc29tZSB2YWx1ZXMgdG8gbWFrZSBub2RlIHRoaW5rIHRoYXQgdGhlIHVzZXIncyBhcHBsaWNhdGlvblxyXG4vLyB3YXMgc3RhcnRlZCBkaXJlY3RseSBzdWNoIGFzIGBub2RlIGFwcC5qc2BcclxucHJvY2Vzcy5tYWluTW9kdWxlID0gcHJvY2Vzcy5tYWluTW9kdWxlIHx8IHt9IGFzIGFueTtcclxucHJvY2Vzcy5tYWluTW9kdWxlLmxvYWRlZCA9IGZhbHNlO1xyXG5yZXF1aXJlLm1haW4gPSBwcm9jZXNzLm1haW5Nb2R1bGU7XHJcbiJdfQ==